{"version":3,"sources":["components/AlbumCard/AlbumCard.module.css","components/ArtistCard/ArtistCard.module.css","store/actions/actionTypes.js","shared/utility.js","store/reducers/reducer.js","store/actions/actions.js","assets/imgs/spotifyLogo.svg","components/SpotifyLogin/SpotifyLogin.js","pages/LoginPage/LoginPage.js","assets/imgs/search.svg","components/SearchBar/SearchBar.js","components/GridLayout/GridLayout.js","api/requests.js","components/ArtistCard/ArtistCard.js","components/Spinner/Spinner.js","assets/imgs/defaultArtist.png","pages/ArtistsPage/ArtistsPage.js","components/AlbumCard/AlbumCard.js","assets/imgs/defaultAlbum.png","pages/AlbumsPage/AlbumsPage.js","components/Logout/Logout.js","components/Header/Header.js","App.js","reportWebVitals.js","index.js","pages/ArtistsPage/ArtistsPage.module.css","pages/AlbumsPage/AlbumsPage.module.css","pages/LoginPage/LoginPage.module.css","components/Spinner/Spinner.module.css","components/Logout/Logout.module.css","components/Header/Header.module.css","components/SpotifyLogin/SpotifyLogin.module.css","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SET_ACCESS_TOKEN","REMOVE_ACCESS_TOKEN","SET_ARTISTS","REMOVE_ARTISTS","SET_LAST_SEARCH","SET_CURRENT_ARTIST","REMOVE_CURRENT_ARTIST","SET_ALBUMS","REMOVE_ALBUMS","SET_NEXT_ARTISTS_URL","SET_NEXT_ALBUMS_URL","updateObject","oldObject","updatedProperties","initialState","accessToken","localStorage","getItem","artists","lastSearch","currentArtist","albums","nextArtistsUrl","nextAlbumsUrl","setAccessToken","state","action","setItem","expiresAt","removeAccessToken","removeItem","timer","setArtists","removeArtists","setLastSearch","setCurrentArtist","removeCurrentArtist","setAlbums","removeAlbums","setNextArtistsUrl","setNextAlbumsUrl","reducer","type","actionTypes","SpotifyLogin","props","href","className","classes","src","logo","alt","LoginPage","useSelector","dispatch","useDispatch","useCallback","actions","useEffect","history","replace","params","URLSearchParams","location","hash","accessTokenParam","get","date","Date","getTime","expiresInParam","parseInt","welcome","SearchBar","searchInput","useRef","useState","searchValue","setSearchValue","search","event","preventDefault","current","currentValue","value","trim","onSubmit","ref","id","placeholder","onChange","target","setTimeout","console","log","searchIcon","onClick","masonryOptions","transitionDuration","GridLayout","options","children","getNext","next","axios","headers","Authorization","ArtistCard","flooredRating","Math","floor","rating","i","push","style","background","percentage","redirect","imgContainer","image","name","main","followers","Spinner","join","ArtistsPage","footer","isLoading","setIsLoading","isEnd","setIsEnd","scrollFct","getBoundingClientRect","top","window","innerHeight","requests","then","res","data","items","catch","err","addEventListener","removeEventListener","goToArtist","artist","artistCards","map","images","url","defaultArtist","total","popularity","uuidv4","gridLayout","body","footerContent","searchBox","types","lim","off","q","length","limit","offset","searchText","AlbumCard","albumProps","tracks","preview","AlbumsPage","match","groups","include_groups","forEach","item","albumCards","album","defaultAlbum","total_tracks","release_date","external_urls","spotify","intro","Logout","Header","to","Logo","withRouter","setNext","pathname","useLocation","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ebfb35e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"AlbumCard\":\"AlbumCard_AlbumCard___MstQ\",\"albumProps\":\"AlbumCard_albumProps__3d39H\",\"imgContainer\":\"AlbumCard_imgContainer__1duqt\",\"main\":\"AlbumCard_main__34eND\",\"name\":\"AlbumCard_name__2lo9n\",\"artists\":\"AlbumCard_artists__3D034\",\"preview\":\"AlbumCard_preview__3O7T0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ArtistCard\":\"ArtistCard_ArtistCard__ZCdVO\",\"imgContainer\":\"ArtistCard_imgContainer__Kd-f2\",\"main\":\"ArtistCard_main__1RTcx\",\"name\":\"ArtistCard_name__3X3IS\",\"rating\":\"ArtistCard_rating__2E4FB\"};","export const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\r\nexport const REMOVE_ACCESS_TOKEN = 'REMOVE_ACCESS_TOKEN';\r\n\r\nexport const SET_ARTISTS = 'SET_ARTISTS';\r\nexport const REMOVE_ARTISTS = 'REMOVE_ARTISTS';\r\n\r\nexport const SET_LAST_SEARCH = 'SET_LAST_SEARCH';\r\n\r\nexport const SET_CURRENT_ARTIST = 'SET_CURRENT_ARTIST';\r\nexport const REMOVE_CURRENT_ARTIST = 'REMOVE_CURRENT_ARTIST';\r\n\r\nexport const SET_ALBUMS = 'SET_ALBUMS';\r\nexport const REMOVE_ALBUMS = 'REMOVE_ALBUMS';\r\n\r\nexport const SET_NEXT_ARTISTS_URL = 'SET_NEXT_ARTISTS_URL';\r\nexport const SET_NEXT_ALBUMS_URL = 'SET_NEXT_ALBUMS_URL';\r\n","export const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\n","import * as actionTypes from '../actions/actionTypes';\r\nimport { updateObject } from '../../shared/utility';\r\n\r\nconst initialState = {\r\n  accessToken: localStorage.getItem('accessToken') ? true : false,\r\n  artists: null,\r\n  lastSearch: '',\r\n  currentArtist: null,\r\n  albums: null,\r\n  nextArtistsUrl: null,\r\n  nextAlbumsUrl: null,\r\n};\r\n\r\nconst setAccessToken = (state, action) => {\r\n  localStorage.setItem('accessToken', action.accessToken);\r\n  localStorage.setItem('expiresAt', action.expiresAt);\r\n  return updateObject(state, {\r\n    accessToken: true,\r\n  });\r\n};\r\n\r\nconst removeAccessToken = (state, action) => {\r\n  localStorage.removeItem('accessToken');\r\n  localStorage.removeItem('expiresAt');\r\n  return updateObject(state, { accessToken: false, timer: null });\r\n};\r\n\r\nconst setArtists = (state, action) => {\r\n  return updateObject(state, {\r\n    artists: action.artists,\r\n  });\r\n};\r\n\r\nconst removeArtists = (state, action) => {\r\n  return updateObject(state, {\r\n    artists: null,\r\n  });\r\n};\r\n\r\nconst setLastSearch = (state, action) => {\r\n  return updateObject(state, {\r\n    lastSearch: action.lastSearch,\r\n  });\r\n};\r\n\r\nconst setCurrentArtist = (state, action) => {\r\n  return updateObject(state, {\r\n    currentArtist: action.currentArtist,\r\n  });\r\n};\r\n\r\nconst removeCurrentArtist = (state, action) => {\r\n  return updateObject(state, {\r\n    currentArtist: null,\r\n  });\r\n};\r\n\r\nconst setAlbums = (state, action) => {\r\n  return updateObject(state, {\r\n    albums: action.albums,\r\n  });\r\n};\r\n\r\nconst removeAlbums = (state, action) => {\r\n  return updateObject(state, {\r\n    albums: null,\r\n  });\r\n};\r\n\r\nconst setNextArtistsUrl = (state, action) => {\r\n  return updateObject(state, {\r\n    nextArtistsUrl: action.nextArtistsUrl,\r\n  });\r\n};\r\n\r\nconst setNextAlbumsUrl = (state, action) => {\r\n  return updateObject(state, {\r\n    nextAlbumsUrl: action.nextAlbumsUrl,\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SET_ACCESS_TOKEN:\r\n      return setAccessToken(state, action);\r\n    case actionTypes.REMOVE_ACCESS_TOKEN:\r\n      return removeAccessToken(state, action);\r\n    case actionTypes.SET_ARTISTS:\r\n      return setArtists(state, action);\r\n    case actionTypes.REMOVE_ARTISTS:\r\n      return removeArtists(state, action);\r\n    case actionTypes.SET_LAST_SEARCH:\r\n      return setLastSearch(state, action);\r\n    case actionTypes.SET_CURRENT_ARTIST:\r\n      return setCurrentArtist(state, action);\r\n    case actionTypes.REMOVE_CURRENT_ARTIST:\r\n      return removeCurrentArtist(state, action);\r\n    case actionTypes.SET_ALBUMS:\r\n      return setAlbums(state, action);\r\n    case actionTypes.REMOVE_ALBUMS:\r\n      return removeAlbums(state, action);\r\n    case actionTypes.SET_NEXT_ARTISTS_URL:\r\n      return setNextArtistsUrl(state, action);\r\n    case actionTypes.SET_NEXT_ALBUMS_URL:\r\n      return setNextAlbumsUrl(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from './actionTypes';\r\n\r\nexport const setAccessToken = (accessToken, expiresAt) => {\r\n  return {\r\n    type: actionTypes.SET_ACCESS_TOKEN,\r\n    accessToken,\r\n    expiresAt,\r\n  };\r\n};\r\n\r\nexport const removeAccessToken = () => {\r\n  return {\r\n    type: actionTypes.REMOVE_ACCESS_TOKEN,\r\n  };\r\n};\r\n\r\nexport const setArtists = (artists) => {\r\n  return {\r\n    type: actionTypes.SET_ARTISTS,\r\n    artists,\r\n  };\r\n};\r\n\r\nexport const removeArtists = () => {\r\n  return {\r\n    type: actionTypes.REMOVE_ARTISTS,\r\n  };\r\n};\r\n\r\nexport const setLastSearch = (lastSearch) => {\r\n  return {\r\n    type: actionTypes.SET_LAST_SEARCH,\r\n    lastSearch,\r\n  };\r\n};\r\n\r\nexport const setCurrentArtist = (currentArtist) => {\r\n  return {\r\n    type: actionTypes.SET_CURRENT_ARTIST,\r\n    currentArtist,\r\n  };\r\n};\r\n\r\nexport const removeCurrentArtist = () => {\r\n  return {\r\n    type: actionTypes.REMOVE_CURRENT_ARTIST,\r\n    currentArtist: null,\r\n  };\r\n};\r\n\r\nexport const setAlbums = (albums) => {\r\n  return {\r\n    type: actionTypes.SET_ALBUMS,\r\n    albums,\r\n  };\r\n};\r\n\r\nexport const removeAlbums = () => {\r\n  return {\r\n    type: actionTypes.REMOVE_ALBUMS,\r\n    albums: null,\r\n  };\r\n};\r\n\r\nexport const setNextArtistsUrl = (nextArtistsUrl) => {\r\n  return {\r\n    type: actionTypes.SET_NEXT_ARTISTS_URL,\r\n    nextArtistsUrl,\r\n  };\r\n};\r\n\r\nexport const setNextAlbumsUrl = (nextAlbumsUrl) => {\r\n  return {\r\n    type: actionTypes.SET_NEXT_ALBUMS_URL,\r\n    nextAlbumsUrl,\r\n  };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/spotifyLogo.bc1a3e4c.svg\";","import React from 'react';\r\nimport logo from '../../assets/imgs/spotifyLogo.svg';\r\nimport classes from './SpotifyLogin.module.css';\r\n\r\nconst SpotifyLogin = (props) => {\r\n  return (\r\n    <a href={props.href} className={classes.SpotifyLogin}>\r\n      <span>Login with Spotify</span>\r\n      <img src={logo} alt='Spotify logo' />\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default SpotifyLogin;\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as actions from '../../store/actions/actions';\r\nimport SpotifyLogin from '../../components/SpotifyLogin/SpotifyLogin';\r\nimport classes from './LoginPage.module.css';\r\n\r\nconst LoginPage = (props) => {\r\n  // public states\r\n  const accessToken = useSelector((state) => state.accessToken);\r\n\r\n  // dispatch\r\n  const dispatch = useDispatch();\r\n  const setAccessToken = useCallback(\r\n    (accessToken, expiresAt) =>\r\n      dispatch(actions.setAccessToken(accessToken, expiresAt)),\r\n    [dispatch],\r\n  );\r\n  const removeAccessToken = useCallback(\r\n    () => dispatch(actions.removeAccessToken()),\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) {\r\n      const params = new URLSearchParams(props.location.hash.replace('#', '?'));\r\n      const accessTokenParam = params.get('access_token');\r\n      if (accessTokenParam) {\r\n        const date = new Date().getTime();\r\n        const expiresInParam = parseInt(params.get('expires_in')) * 1000;\r\n        const expiresAt = date + expiresInParam;\r\n        setAccessToken(accessTokenParam, expiresAt);\r\n        props.history.replace('/artists');\r\n      }\r\n    } else props.history.replace('/artists');\r\n  }, [props, accessToken, setAccessToken, removeAccessToken]);\r\n  return (\r\n    <section className={classes.LoginPage}>\r\n      <h1 className={classes.welcome}>\r\n        <span>Welcome to Spotit,</span> Get started here\r\n      </h1>\r\n      <SpotifyLogin href='https://accounts.spotify.com/authorize?client_id=6499b09693a64a09ae4d961182500473&redirect_uri=http://localhost:3000/login&response_type=token&state=123' />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","export default __webpack_public_path__ + \"static/media/search.f8c9c140.svg\";","import React, { useState, useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport searchIcon from '../../assets/imgs/search.svg';\r\nimport classes from './SearchBar.module.css';\r\n\r\nconst SearchBar = (props) => {\r\n  const searchInput = useRef();\r\n\r\n  const lastSearch = useSelector((state) => state.lastSearch);\r\n\r\n  const [searchValue, setSearchValue] = useState(props.lastSearch);\r\n  const onChange = (event) => {\r\n    setSearchValue(event.target.value);\r\n    const value = event.target.value.trim();\r\n    setTimeout(() => {\r\n      if (searchInput.current) {\r\n        const currentValue = searchInput.current.value.trim();\r\n        console.log(value);\r\n        console.log(currentValue);\r\n        if (currentValue !== lastSearch && value === currentValue) {\r\n          props.search(value);\r\n        }\r\n      }\r\n    }, 500);\r\n  };\r\n\r\n  const search = (event) => {\r\n    event.preventDefault();\r\n    if (searchInput.current) {\r\n      const currentValue = searchInput.current.value.trim();\r\n      if (currentValue) {\r\n        props.search(currentValue);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={search} className={classes.SearchBar}>\r\n      <input\r\n        ref={searchInput}\r\n        id='searchInput'\r\n        type='text'\r\n        value={searchValue}\r\n        placeholder='Search for an artist...'\r\n        onChange={onChange}\r\n      />\r\n      <img src={searchIcon} alt='' onClick={search} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport Masonry from 'react-masonry-component';\r\n\r\nconst masonryOptions = {\r\n  transitionDuration: 0,\r\n};\r\nconst GridLayout = (props) => {\r\n  return <Masonry options={masonryOptions}>{props.children}</Masonry>;\r\n};\r\n\r\nexport default GridLayout;\r\n","import axios from 'axios';\r\n\r\nexport const getSearch = (value, types = [], lim, off = 0) => {\r\n  const q = value ? `q=${value}` : '';\r\n  const type = types.length ? `type=${types.join(',')}` : '';\r\n  const limit = lim ? `limit=${lim}` : '';\r\n  const offset = off ? `offset=${off}` : '';\r\n  return axios.get(\r\n    `https://api.spotify.com/v1/search?${q}&${type}&${limit}&${offset}`,\r\n    {\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('accessToken'),\r\n      },\r\n    },\r\n  );\r\n};\r\n\r\nexport const getArtistAlbums = (id, groups = [], lim, off = 0) => {\r\n  const include_groups = groups.length\r\n    ? `include_groups=${groups.join(',')}`\r\n    : '';\r\n  const limit = lim ? `limit=${lim}` : '';\r\n  const offset = off ? `offset=${off}` : '';\r\n  return axios.get(\r\n    `https://api.spotify.com/v1/artists/${id}/albums?${include_groups}&${limit}&${offset}`,\r\n    {\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('accessToken'),\r\n      },\r\n    },\r\n  );\r\n};\r\n\r\nexport const getArtistById = (id) => {\r\n  return axios.get(`https://api.spotify.com/v1/artists/${id}`, {\r\n    headers: {\r\n      Authorization: 'Bearer ' + localStorage.getItem('accessToken'),\r\n    },\r\n  });\r\n};\r\n\r\nexport const getNext = (next) => {\r\n  return axios.get(next, {\r\n    headers: {\r\n      Authorization: 'Bearer ' + localStorage.getItem('accessToken'),\r\n    },\r\n  });\r\n};\r\n","import React from 'react';\r\nimport classes from './ArtistCard.module.css';\r\n\r\nconst ArtistCard = (props) => {\r\n  const flooredRating = Math.floor(props.rating);\r\n  const rating = [];\r\n  for (let i = 1; i <= 5; i++) {\r\n    if (i < flooredRating) {\r\n      rating.push(\r\n        <div key={i} style={{ background: 'var(--color-bright-green)' }}></div>,\r\n      );\r\n    } else if (i < props.rating) {\r\n      const percentage = (props.rating - flooredRating) * 100;\r\n      rating.push(\r\n        <div\r\n          key={i}\r\n          style={{\r\n            background: `linear-gradient(90deg, var(--color-bright-green) ${percentage}%, var(--color-gray) ${\r\n              100 - percentage\r\n            }%)`,\r\n          }}\r\n        ></div>,\r\n      );\r\n    } else {\r\n      rating.push(\r\n        <div key={i} style={{ background: 'var(--color-gray)' }}></div>,\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.ArtistCard} onClick={props.redirect}>\r\n      <div className={classes.imgContainer}>\r\n        <img src={props.image} alt={props.name} />\r\n      </div>\r\n      <div className={classes.main}>\r\n        <h5 className={classes.name}>{props.name}</h5>\r\n        <p className={classes.followers}>{props.followers} followers</p>\r\n        <div className={classes.rating}>{rating}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArtistCard;\r\n","import React from 'react';\r\nimport classes from './Spinner.module.css';\r\nimport logo from '../../assets/imgs/spotifyLogo.svg';\r\n\r\nconst Spinner = (props) => {\r\n  return (\r\n    <>\r\n      <img\r\n        src={logo}\r\n        alt=''\r\n        className={[classes.Spinner, classes[props.className]].join(' ')}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","export default __webpack_public_path__ + \"static/media/defaultArtist.b95d14e9.png\";","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport SearchBar from '../../components/SearchBar/SearchBar';\r\nimport GridLayout from '../../components/GridLayout/GridLayout';\r\nimport * as actions from '../../store/actions/actions';\r\nimport * as requests from '../../api/requests';\r\nimport ArtistCard from '../../components/ArtistCard/ArtistCard';\r\nimport Spinner from '../../components/Spinner/Spinner';\r\nimport defaultArtist from '../../assets/imgs/defaultArtist.png';\r\nimport classes from './ArtistsPage.module.css';\r\n\r\nconst ArtistsPage = (props) => {\r\n  const footer = useRef();\r\n\r\n  // private states\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isEnd, setIsEnd] = useState(false);\r\n\r\n  // public states\r\n  const artists = useSelector((state) => state.artists);\r\n  const lastSearch = useSelector((state) => state.lastSearch);\r\n  const currentArtist = useSelector((state) => state.currentArtist);\r\n  const albums = useSelector((state) => state.albums);\r\n  const nextArtistsUrl = useSelector((state) => state.nextArtistsUrl);\r\n\r\n  // dispatch\r\n  const dispatch = useDispatch();\r\n\r\n  const setArtists = useCallback(\r\n    (artists) => dispatch(actions.setArtists(artists)),\r\n    [dispatch],\r\n  );\r\n  const removeArtists = () => dispatch(actions.removeArtists());\r\n  const setLastSearch = (lastSearch) =>\r\n    dispatch(actions.setLastSearch(lastSearch));\r\n  const setCurrentArtist = (currentArtist) =>\r\n    dispatch(actions.setCurrentArtist(currentArtist));\r\n  const removeCurrentArtist = useCallback(\r\n    () => dispatch(actions.removeCurrentArtist()),\r\n    [dispatch],\r\n  );\r\n  const removeAlbums = useCallback(\r\n    () => dispatch(actions.removeAlbums()),\r\n    [dispatch],\r\n  );\r\n  const setNextArtistsUrl = useCallback(\r\n    (nextArtistsUrl) => dispatch(actions.setNextArtistsUrl(nextArtistsUrl)),\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (albums) removeAlbums();\r\n    if (currentArtist) removeCurrentArtist();\r\n    const scrollFct = () => {\r\n      if (footer.current) {\r\n        const { top } = footer.current.getBoundingClientRect();\r\n\r\n        if (top <= window.innerHeight + 100) {\r\n          if (!isEnd) {\r\n            setIsEnd(true);\r\n            if (nextArtistsUrl) {\r\n              requests\r\n                .getNext(nextArtistsUrl)\r\n                .then((res) => {\r\n                  console.log(res);\r\n                  setNextArtistsUrl(res.data.artists.next);\r\n                  setArtists([...artists, ...res.data.artists.items]);\r\n                  setIsEnd(false);\r\n                })\r\n                .catch((err) => console.log(err));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n    console.log('create');\r\n    window.addEventListener('scroll', scrollFct);\r\n    return () => {\r\n      console.log('remove');\r\n      window.removeEventListener('scroll', scrollFct);\r\n    };\r\n  }, [\r\n    isEnd,\r\n    artists,\r\n    currentArtist,\r\n    albums,\r\n    nextArtistsUrl,\r\n    setNextArtistsUrl,\r\n    setArtists,\r\n    removeCurrentArtist,\r\n    removeAlbums,\r\n  ]);\r\n\r\n  const search = (value) => {\r\n    if (!value) {\r\n      removeArtists();\r\n      setLastSearch(value);\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    requests\r\n      .getSearch(value, ['artist'], 20)\r\n      .then((res) => {\r\n        console.log(res);\r\n        setArtists(res.data.artists.items);\r\n        setLastSearch(value);\r\n        setIsLoading(false);\r\n        setNextArtistsUrl(res.data.artists.next);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const goToArtist = (artist) => {\r\n    setCurrentArtist({ id: artist.id, name: artist.name });\r\n    props.history.push(`/albums/${artist.id}`);\r\n  };\r\n\r\n  let artistCards = artists?.map((artist) => (\r\n    <ArtistCard\r\n      key={uuidv4()}\r\n      redirect={() => goToArtist(artist)}\r\n      image={artist.images[1]?.url || defaultArtist}\r\n      name={artist.name}\r\n      followers={artist.followers.total}\r\n      rating={artist.popularity / 20}\r\n    />\r\n  ));\r\n\r\n  let gridLayout = <GridLayout>{artistCards}</GridLayout>;\r\n\r\n  let body = isLoading ? <Spinner className={'fixed'} /> : gridLayout;\r\n  let footerContent = isEnd ? (\r\n    nextArtistsUrl ? (\r\n      <Spinner />\r\n    ) : (\r\n      <h3>You've Reached the End</h3>\r\n    )\r\n  ) : null;\r\n\r\n  return (\r\n    <section className={classes.ArtistsPage}>\r\n      <div className={classes.searchBox}>\r\n        <SearchBar search={search} lastSearch={lastSearch} />\r\n      </div>\r\n      <p className={classes.searchText}>\r\n        {artistCards\r\n          ? artistCards.length\r\n            ? `Showing results for '${lastSearch}'`\r\n            : `No Results Found for '${lastSearch}'`\r\n          : 'Type anything in the search box to get started!'}\r\n      </p>\r\n      {body}\r\n      <footer className={classes.footer} ref={footer}>\r\n        {footerContent}\r\n      </footer>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ArtistsPage;\r\n","import React from 'react';\r\nimport classes from './AlbumCard.module.css';\r\n\r\nconst AlbumCard = (props) => {\r\n  return (\r\n    <div className={classes.AlbumCard}>\r\n      <div className={classes.albumProps}>\r\n        <div className={classes.imgContainer}>\r\n          <img src={props.image} alt={props.name} />\r\n        </div>\r\n        <div className={classes.main}>\r\n          <h5 className={classes.name}>{props.name}</h5>\r\n          <p className={classes.artists}>{props.artists.join(' ')}</p>\r\n          <p className={classes.date}>{props.date}</p>\r\n          <p className={classes.tracks}>{props.tracks} tracks</p>\r\n        </div>\r\n      </div>\r\n      <a className={classes.preview} href={props.preview}>\r\n        <span>Preview on Spotify</span>\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlbumCard;\r\n","export default __webpack_public_path__ + \"static/media/defaultAlbum.7d7102cb.png\";","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport GridLayout from '../../components/GridLayout/GridLayout';\r\nimport * as actions from '../../store/actions/actions';\r\nimport * as requests from '../../api/requests';\r\nimport AlbumCard from '../../components/AlbumCard/AlbumCard';\r\nimport Spinner from '../../components/Spinner/Spinner';\r\nimport defaultAlbum from '../../assets/imgs/defaultAlbum.png';\r\nimport classes from './AlbumsPage.module.css';\r\n\r\nconst AlbumsPage = (props) => {\r\n  const footer = useRef();\r\n  // private states\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isEnd, setIsEnd] = useState(false);\r\n\r\n  // public states\r\n  const currentArtist = useSelector((state) => state.currentArtist);\r\n  const albums = useSelector((state) => state.albums);\r\n  const nextAlbumsUrl = useSelector((state) => state.nextAlbumsUrl);\r\n\r\n  // dispatch\r\n  const dispatch = useDispatch();\r\n  const setCurrentArtist = useCallback(\r\n    (currentArtist) => dispatch(actions.setCurrentArtist(currentArtist)),\r\n    [dispatch],\r\n  );\r\n  const setAlbums = useCallback(\r\n    (albums) => dispatch(actions.setAlbums(albums)),\r\n    [dispatch],\r\n  );\r\n  const setNextAlbumsUrl = useCallback(\r\n    (nextAlbumsUrl) => dispatch(actions.setNextAlbumsUrl(nextAlbumsUrl)),\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!currentArtist) {\r\n      requests\r\n        .getArtistById(props.match.params.id)\r\n        .then((res) => {\r\n          console.log(res);\r\n          setCurrentArtist({ id: res.data.id, name: res.data.name });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n    if (!albums) {\r\n      requests\r\n        .getArtistAlbums(props.match.params.id, [], 20)\r\n        .then((res) => {\r\n          console.log(res);\r\n          res.data.items.forEach(\r\n            (item) =>\r\n              (item.artists = item.artists.map((artist) => artist.name)),\r\n          );\r\n          setAlbums(res.data.items);\r\n          setNextAlbumsUrl(res.data.next);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n\r\n    const scrollFct = () => {\r\n      if (footer.current) {\r\n        const { top } = footer.current.getBoundingClientRect();\r\n\r\n        if (top <= window.innerHeight + 100) {\r\n          if (!isEnd) {\r\n            setIsEnd(true);\r\n            if (nextAlbumsUrl) {\r\n              requests\r\n                .getNext(nextAlbumsUrl)\r\n                .then((res) => {\r\n                  console.log(res);\r\n                  res.data.items.forEach(\r\n                    (item) =>\r\n                      (item.artists = item.artists.map(\r\n                        (artist) => artist.name,\r\n                      )),\r\n                  );\r\n                  setAlbums([...albums, ...res.data.items]);\r\n                  setNextAlbumsUrl(res.data.next);\r\n                  setIsEnd(false);\r\n                })\r\n                .catch((err) => console.log(err));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n    console.log('create');\r\n    window.addEventListener('scroll', scrollFct);\r\n    return () => {\r\n      console.log('remove');\r\n      window.removeEventListener('scroll', scrollFct);\r\n    };\r\n  }, [\r\n    props,\r\n    isEnd,\r\n    currentArtist,\r\n    albums,\r\n    nextAlbumsUrl,\r\n    setNextAlbumsUrl,\r\n    setCurrentArtist,\r\n    setAlbums,\r\n  ]);\r\n\r\n  let albumCards = albums?.map((album) => (\r\n    <AlbumCard\r\n      key={uuidv4()}\r\n      image={album.images[1]?.url || defaultAlbum}\r\n      name={album.name}\r\n      artists={album.artists}\r\n      tracks={album.total_tracks}\r\n      date={album.release_date}\r\n      preview={album.external_urls.spotify}\r\n    />\r\n  ));\r\n\r\n  let gridLayout;\r\n\r\n  if (albumCards) {\r\n    gridLayout = albumCards.length ? (\r\n      <GridLayout>{albumCards}</GridLayout>\r\n    ) : (\r\n      <h1>No Albums yet</h1>\r\n    );\r\n  }\r\n\r\n  let body = isLoading ? <Spinner /> : gridLayout;\r\n  let footerContent = isEnd ? (\r\n    nextAlbumsUrl ? (\r\n      <Spinner />\r\n    ) : (\r\n      <h3>You've Reached the End</h3>\r\n    )\r\n  ) : null;\r\n\r\n  return (\r\n    <section className={classes.AlbumsPage}>\r\n      <div className={classes.intro}>\r\n        <h1>{currentArtist?.name}</h1>\r\n        <span>Albums</span>\r\n      </div>\r\n      {body}\r\n      <footer className={classes.footer} ref={footer}>\r\n        {footerContent}\r\n      </footer>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AlbumsPage;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport * as actions from '../../store/actions/actions';\r\nimport classes from './Logout.module.css';\r\n\r\nconst Logout = (props) => {\r\n  const dispatch = useDispatch();\r\n  const removeAccessToken = () => dispatch(actions.removeAccessToken());\r\n  const logout = () => {\r\n    localStorage.removeItem('accessToken');\r\n    localStorage.removeItem('expiresAt');\r\n    removeAccessToken();\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={[classes.Logout, classes[props.className]].join(' ')}\r\n      onClick={logout}\r\n    >\r\n      Logout\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../assets/imgs/spotifyLogo.svg';\r\nimport Logout from '../Logout/Logout';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n  console.log(props.accessToken);\r\n  return (\r\n    <nav className={classes.Header}>\r\n      <Link to={'/artists'} className={classes.Logo}>\r\n        <img src={logo} alt='' />\r\n        <h1>Spotit</h1>\r\n      </Link>\r\n      {props.accessToken ? <Logout className={'header'} /> : null}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState, useCallback } from 'react';\nimport {\n  Route,\n  Switch,\n  withRouter,\n  Redirect,\n  useLocation,\n} from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport ArtistsPage from './pages/ArtistsPage/ArtistsPage';\nimport AlbumsPage from './pages/AlbumsPage/AlbumsPage';\nimport Header from './components/Header/Header';\nimport * as actions from './store/actions/actions';\nconst App = () => {\n  // private states\n  const [next, setNext] = useState(null);\n\n  // public states\n  const accessToken = useSelector((state) => state.accessToken);\n\n  // dispatch\n  const dispatch = useDispatch();\n\n  const removeAccessToken = useCallback(\n    () => dispatch(actions.removeAccessToken()),\n    [dispatch],\n  );\n\n  const pathname = useLocation().pathname;\n\n  useEffect(() => {\n    if (!accessToken) {\n      if (pathname !== '/login') {\n        setNext(<Redirect to='/login' />);\n      }\n    } else {\n      const expiresAt = localStorage.getItem('expiresAt');\n      const date = new Date().getTime();\n\n      setTimeout(() => {\n        removeAccessToken();\n      }, expiresAt - date);\n    }\n  }, [accessToken, pathname, removeAccessToken]);\n  return (\n    <>\n      <Header accessToken={accessToken} />\n      <Switch>\n        <Route exact path='/login' component={LoginPage} />\n        <Route exact path='/artists' component={ArtistsPage} />\n        <Route exact path='/albums/:id' component={AlbumsPage} />\n      </Switch>\n      {next}\n    </>\n  );\n};\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './store/reducers/reducer';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter basename='/'>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"ArtistsPage_footer__1yNVf\",\"searchBox\":\"ArtistsPage_searchBox__32FPd\",\"searchText\":\"ArtistsPage_searchText__1WZaa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"AlbumsPage_footer__251fr\",\"intro\":\"AlbumsPage_intro__36c6W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoginPage\":\"LoginPage_LoginPage__2jbru\",\"welcome\":\"LoginPage_welcome__1pizM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__1Hsyz\",\"loading\":\"Spinner_loading__kqbuU\",\"fixed\":\"Spinner_fixed__2U3x0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logout\":\"Logout_Logout__M7RYp\",\"header\":\"Logout_header__1zRfy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__MTfQT\",\"Logo\":\"Header_Logo__1S6Qb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SpotifyLogin\":\"SpotifyLogin_SpotifyLogin__NuURX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__8Soa7\"};"],"sourceRoot":""}